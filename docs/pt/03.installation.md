# Instalação e Configuração

## Início Rápido

1. **Instalar:** Use o [BRAT](#brat-beta) ou baixe a versão mais recente do GitHub.
2. **Obter Chave API:** No Syncthing, navegue até **Ações** > **Configurações** > **Geral** e copie a **Chave de API**.
3. **Configurar:**
    - Abra as Configurações do Obsidian > **Syncthing Manager**.
    - Cole sua Chave de API e clique em **Testar Conexão**.
    - **Importante:** Selecione sua **Pasta do Cofre** no menu suspenso para rastrear eventos.

## BRAT (Beta)

Para instalar a versão beta mais recente:

1. Instale o plugin **BRAT** da Loja da Comunidade do Obsidian.
2. Adicione esta URL do repositório: `https://github.com/gustjose/obsidian-syncthing-manager`.
3. Ative o **Syncthing Manager**.

---

## Configuração Android (Crítico)

Para usar este plugin no Android (via _Syncthing-Fork_ ou o aplicativo oficial), você deve permitir conexões HTTP locais.

!!! warning "Restrição HTTPS"
O Obsidian Mobile não pode se conectar a certificados HTTPS autoassinados no localhost. Você **deve desativar o HTTPS** nas configurações do App Syncthing. Como o endereço é restrito a `127.0.0.1`, seu tráfego permanece local e seguro.

1. Abra o App Syncthing > **Configurações** > **GUI**.
2. Defina o **Endereço de Escuta da GUI** para `127.0.0.1:8384`.
3. **Desative** "Usar HTTPS para GUI".
    - _Nota: Certifique-se de ter limpado os campos "Usuário/Senha de Autenticação da GUI", caso contrário, o aplicativo pode impor HTTPS._
4. Reinicie o App Syncthing.
5. Nas Configurações do Plugin no Obsidian, certifique-se de que **Usar HTTPS** esteja **DESATIVADO**.

### Alternativa: Forçar HTTP (Variável de Ambiente)

Se o método acima redefinir ou falhar, você pode forçar o Syncthing a usar HTTP usando uma variável de ambiente.

!!! callout "Efeito Colateral"
Isso pode fazer com que a interface nativa do App Syncthing Android pare de carregar (mostrando uma tela branca ou carregando). No entanto, o **serviço em segundo plano ainda funcionará**, e você pode acessar a Interface Web completa através do seu navegador em `http://127.0.0.1:8384`.

1. Vá para **Configurações** > **Solução de Problemas** > **Variáveis de Ambiente**.
2. Adicione a seguinte variável:
    - **Chave:** `STGUIADDRESS`
    - **Valor:** `http://127.0.0.1:8384`
3. Reinicie o App.
4. Se precisar reverter, simplesmente exclua esta variável.
